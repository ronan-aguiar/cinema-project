{% extends 'bilheteria/base.html' %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto; background: #1f1f1f; padding: 40px; border-radius: 8px;">
    <h2 style="text-align: center; margin-bottom: 30px;">Registro de Venda</h2>

    <div style="background: #333; padding: 20px; border-radius: 4px; margin-bottom: 30px;">
        <h3 style="margin-bottom: 10px;">{{ sessao.filme.titulo }}</h3>
        <p><strong>Hor√°rio:</strong> {{ sessao.horario|date:"d/m/Y - H:i" }}</p>
    </div>

    <h3 style="text-align: center; margin-bottom: 20px;">Selecione o Tipo de Ingresso</h3>
    <p style="text-align: center; color: #aaa; margin-bottom: 30px;">Pagamento apenas em <strong>DINHEIRO</strong></p>

    <form method="post" id="pos-form">
        {% csrf_token %}
        <input type="hidden" name="tipo_ingresso" id="input-tipo">

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <button type="button" onclick="confirmarVenda('INTEIRA', 'R$ 16,00')"
                style="padding: 30px; font-size: 18px; background: #2ecc71; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                INTEIRA<br><span style="font-size: 14px; opacity: 0.8">R$ 16,00</span>
            </button>

            <button type="button" onclick="confirmarVenda('MEIA', 'R$ 8,00')"
                style="padding: 30px; font-size: 18px; background: #27ae60; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                MEIA<br><span style="font-size: 14px; opacity: 0.8">R$ 8,00</span>
            </button>
        </div>
    </form>

    <script>
        function confirmarVenda(tipo, valor) {
            if (confirm('Confirmar venda ' + tipo + ' (' + valor + ')?')) {
                document.getElementById('input-tipo').value = tipo;
                document.getElementById('pos-form').submit();
            }
        }
    </script>
</div>
{% endblock %}